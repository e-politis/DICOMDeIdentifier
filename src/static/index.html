<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1" name="viewport">
        <title>DICOM de-identification and curation tool</title>
        <link href="data:," rel="icon">
    </head>

    <body>
        <nav>
            <a href="https://cordis.europa.eu/project/id/952179"><img alt="INCISIVE Cordis webpage" src="https://incisive-project.eu/wp-content/uploads/2021/01/incisive-header-logo.svg" height="20"></a> | <a href="https://github.com/pbizopoulos/dicom-de-identification-and-curation-tool">Source code</a> | <a href="https://pbizopoulos.github.io/incisive">Home page</a> / <b>DICOM de-identification and curation tool</b>
        </nav>
        <h3>Input</h3>
        <form id="UploadForm" action="/upload_files/" enctype="multipart/form-data" method="post">
            <div>
                Load directory with DICOM files:
            </div>
            <input name="files" type="file" directory webkitdirectory mozdirectory>
            <button type="submit" id="SubmitUpload">
                Upload Files
            </button>
            <div id="UploadStatus">
                </br>
                </br>
                Total uploaded files: 0
                </br>
                Size of uploaded content: 0 MB
                </br>
                </br>
            </div>
        </form>

        <form id="SessionForm" action="/upload_files/" enctype="multipart/form-data" method="post">
            Load session file: 
            <input name="file" type="file">
            <button type="submit" id="SubmitSession">
                Upload Files
            </button>
            </br>
        </form>

        <h3>De-identification options</h3>

        <i>
            Based on
            <a href="https://dicom.nema.org/medical/dicom/current/output/chtml/part15/chapter_e.html"> DICOM PS3.15</a>
        </i>
        </br>
        Clean pixel data:
        <input type="checkbox" id="clean-image">
        </br>
        Retain safe private:
        <input type="checkbox" id="retain-safe-private-input-checkbox">
        </br>
        Retain UIDs:
        <input type="checkbox" id="retain-uids-input-checkbox">
        </br>
        Retain device identity:
        <input type="checkbox" id="retain-device-identity-input-checkbox">
        </br>
        Retain patient characteristics:
        <input type="checkbox" id="retain-patient-characteristics-input-checkbox">
        </br>
        Date processing:
        <select id="date-processing-select">
            <option value="offset">Offset</option>
            <option value="remove">Remove</option>
            <option value="keep">Keep</option>
        </select>
        </br>
        Retain descriptors:
        <input type="checkbox" id="retain-descriptors-input-checkbox">
        </br>
        Retain patient characteristics:
        <input type="text" id="patient-pseudo-id-prefix-input-text" placeholder="e.g. an organization ID">
        </br>
        </br>
        <button type="button" id="SubmitAnonymizationProcess" onclick="submit_dicom_processing_request()" disabled>
            De-Identify DICOM Files
        </button>

        <script src="/static/client.js"></script>
    </body>
</html>